.\" Copyright (c) 2006 Pierre-Yves Ritschard <pyr@openbsd.org>
.\" Copyright (c) 2008 Vincent Bernat <bernat@luffy.cx>
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd $Mdocdate: July 16 2008 $
.Dt LLDPCTL 8
.Os
.Sh NAME
.Nm lldpctl
.Nd control LLDP daemon
.Sh SYNOPSIS
.Nm
.Op Fl d
.Op Fl L Ar location
.Op Ar interface ...
.Sh DESCRIPTION
The
.Nm
program controls
.Xr lldpd 8
daemon.
.Pp
When no specific option is given,
.Nm
displays the list of discovered neighbors along with
some of their advertised capabilities. If some interfaces are given,
only those interfaces will be displayed.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl d
Enable more debugging information.
.It Fl f Ar format
Choose the output format. Currently
.Em plain
and
.Em xml
formats are available. The default is
.Em plain.
.It Fl L Ar location
Enable the transmission of LLDP-MED location TLV for the given
interfaces. This option can be repeated several times to enable the
transmission of the location in several formats. Several formats are
accepted:
.Bl -tag -width "XX"
.It Em Coordinate based location
The format of
.Ar location
is
.Ar 1:48.85667:N:2.2014:E:117.47:m:1
The first digit is always
.Ar 1 .
It is followed by the latitude, a letter for the direction (
.Ar E
or
.Ar W
for East or West), the longitude and a letter for the direction (
.Ar N
or
.Ar S
). The next figure is the altitude. It can be expressed in meters (the
next letter is then
.Ar m
) or in floors (the letter should be
.Ar f
). The last digit is the datum. It can either be
.Ar 1
(WGS84),
.Ar 2
(NAD83) or
.Ar 3
(NAD83/MLLW).
.It Em Civic address
The location can be expressed as an address. The format of the
location is then
.Ar 2:FR:6:Commercial Rd:3:Roseville:19:4
The first digit is always
.Ar 2 .
The next two letters are the country code. Then, arguments are paired
to form the address. The first member of the pair is a digit
indicating the type of the second member. Here is the list of
valid types:
.Bl -tag -width "XXXX." -compact
.It Sy 0
Language
.It Sy 1
National subdivisions
.It Sy 2
County, parish, district
.It Sy 3
City, township
.It Sy 4
City division, borough, ward
.It Sy 5
Neighborhood, block
.It Sy 6
Street
.It Sy 16
Leading street direction
.It Sy 17
Trailing street suffix
.It Sy 18
Street suffix
.It Sy 19
House number
.It Sy 20
House number suffix
.It Sy 21
Landmark or vanity address
.It Sy 22
Additional location info
.It Sy 23
Name
.It Sy 24
Postal/ZIP code
.It Sy 25
Building
.It Sy 26
Unit
.It Sy 27
Floor
.It Sy 28
Room number
.It Sy 29
Place type
.It Sy 128
Script
.El
.It ECS ELIN
This is a numerical string using for setting up emergency call. The
format of the location is then the following:
.Ar 3:0000000911
where the first digit should be
.Ar 3
and the second argument is the ELIN number.
.El
.Pp
When setting a location for a given port, all previous locations are
erased. To erase all location, just use the empty string. There is
currently no way to get the location from the command line.
.El
.Sh FILES
.Bl -tag -width "/var/run/lldpd.socketXX" -compact
.It /var/run/lldpd.socket
Unix-domain socket used for communication with
.Xr lldpd 8 .
.El
.Sh SEE ALSO
.Xr lldpd 8
.Sh AUTHORS
.An -nosplit
The
.Nm
program was written by
.An Vincent Bernat Aq bernat@luffy.cx .
